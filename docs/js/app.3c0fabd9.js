(function(t){function e(e){for(var o,r,a=e[0],c=e[1],u=e[2],l=0,h=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],o=!0,a=1;a<s.length;a++){var c=s[a];0!==n[c]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var o={},n={app:0},i=[];function r(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=o,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(s,o,function(e){return t[e]}.bind(null,o));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var d=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1b18":function(t,e,s){},"20f9":function(t,e,s){"use strict";var o=s("4a52"),n=s.n(o);n.a},"2c8c":function(t,e,s){},"304b":function(t,e,s){"use strict";var o=s("bdb7"),n=s.n(o);n.a},3235:function(t,e,s){"use strict";var o=s("9a9f"),n=s.n(o);n.a},3584:function(t,e,s){},"3d24":function(t,e,s){"use strict";var o=s("3584"),n=s.n(o);n.a},"4a52":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("14c6"),s("08c1"),s("4842"),s("d9fc");var o=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),s("div",{staticClass:"l-container"},[s("sidebar"),s("div",{staticClass:"l-main"},[s("search-input"),s("router-view")],1)],1)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"header"},[s("h1",[t._v("Vue Youtube Search")])])}],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-sidebar"},[s("div",{staticClass:"c-sidebar"},[t._m(0),s("ul",{staticClass:"c-history-list"},t._l(t.getHistorySearchWords,function(t,e){return s("history-item",{key:e,attrs:{word:t}})}),1)])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",{staticClass:"c-history-title"},[t._v("\n      history\n    ")])}],c=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),u=s("2f62"),d=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"c-history-item",domProps:{innerHTML:t._s(t.replaceWords(t.word))}})}],h=s("d225"),f=s("b0b4"),p=function(){function t(e){Object(h["a"])(this,t),this.el=e,this._bindAnimation()}return Object(f["a"])(t,[{key:"_random",value:function(){return 10*Math.floor(20*Math.random())}},{key:"_addClass",value:function(t,e){return new Promise(function(s){t.classList.add(e),s()})}},{key:"_bindAnimation",value:function(){var t=this;this._addClass(this.el,"u-state--1").then(function(){var e=t._random();setTimeout(function(){return t._addClass(t.el,"u-state--2")},50+e)}).then(function(){var e=t._random();setTimeout(function(){return t._addClass(t.el,"u-state--3")},60+e)})}}]),t}();s("a481");function m(t){return t.replace(/(\S)/g,'<span class="u-random-word">$1</span>')}var _={props:{word:String},methods:{replaceWords:function(t){return m(t)},historySearchWordRandomShow:function(t){var e=this,s=t.querySelectorAll(".u-random-word"),o=setTimeout(function(){s.forEach(function(t){new p(t)}),e.$store.dispatch("clearHistoryTextTimer")},1500);this.$store.dispatch("updateHistoryTextTimer",o)}},mounted:function(){this.historySearchWordRandomShow(this.$el)}},v=_,T=(s("20f9"),s("2877")),S=Object(T["a"])(v,d,l,!1,null,null,null),b=S.exports;function w(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,o)}return s}function O(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?w(s,!0).forEach(function(e){Object(c["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var E={computed:O({},Object(u["b"])(["getHistorySearchWords"])),components:{HistoryItem:b}},y=E,V=(s("304b"),Object(T["a"])(y,r,a,!1,null,"88cf86a4",null)),g=V.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-input-wrapper",class:t.inputWrapClassObject},[s("input",{staticClass:"c-input",attrs:{type:"text",placeholder:"search keyword..."},on:{input:[function(e){return t.chkSearchInputlength(e)},t.updateSearchText],focus:function(e){return t.focusInput()},focusout:function(e){return t.focusoutInput()}}})])},C=[],D=s("2ef0"),x=1e3,A={name:"search-input",computed:{inputWrapClassObject:function(){return{"is-focus":this.$store.state.isFocusSearchInput}}},methods:{chkSearchInputlength:function(t){this.$store.dispatch("resetFetchVideos"),this.$store.dispatch("isLoadingVideos",!1),this.$store.dispatch("allowShowVideos",!1),this.$store.dispatch("updateSearchText",t.target.value),""!==t.target.value&&this.$store.dispatch("isLoadingVideos",!0)},updateSearchText:Object(D["debounce"])(function(t){""!==t.target.value&&this.$store.dispatch("fetchYouTubeVideos")},x),focusInput:function(){this.$store.dispatch("isFocusSearchInput",!0)},focusoutInput:function(){this.$store.dispatch("isFocusSearchInput",!1)}}},$=A,L=(s("68d8"),Object(T["a"])($,I,C,!1,null,"02cb6577",null)),P=L.exports,j={name:"app",components:{sidebar:g,searchInput:P}},H=j,U=(s("5c0b"),Object(T["a"])(H,n,i,!1,null,null,null)),R=U.exports,N=s("8c4f"),W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-videos"},[s("list-view",{attrs:{videos:t.hitVideos}})],1)},F=[],k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("search-message"),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoadingVideos,expression:"isLoadingVideos"}],staticClass:"preloader"},[s("div",{staticClass:"l-preloader",class:t.pseudoLoaderClass()},[t._m(0)])]),s("div",{staticClass:"c-list-items"},t._l(t.fetchVideos,function(t,e){return s("list-item",{key:e,attrs:{video:t.snippet,id:t.id.videoId,"data-index":e}})}),1)],1)},M=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"c-preloader"})}],Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-list-item",class:t.listItemClassObject},[t._m(0),t._m(1)])},X=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"c-movie-title"},[t._v("\n    "+t._s(t.video.title)+"\n  ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-movie"},[s("iframe",{attrs:{width:"560",height:"315",src:t.youtubeUrl,frameborder:"0",allowfullscreen:""},on:{load:function(e){return t.videoLoaded()}}})])}];function J(t,e){return parseInt(t,10)===parseInt(e,10)}var q={props:{video:Object,id:String},computed:{youtubeUrl:function(){var t="https://www.youtube.com/embed/";return"".concat(t).concat(this.id)},listItemClassObject:function(){return{"fade-in":this.$store.state.allowShowVideos}}},methods:{videoLoaded:function(){return this.$store.dispatch("updateLoadedVideoNum"),!!J(this.$store.state.loadedVideoNum,this.$store.state.videos.length)&&(this.$store.dispatch("updateHistorySearchWords",this.$store.state.searchText),this.$store.dispatch("allowShowVideos",!0))}}},z=q,G=(s("3d24"),Object(T["a"])(z,Y,X,!1,null,"99778a9c",null)),Z=G.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.allowShowVideos&&!t.isLoadingVideos,expression:"!allowShowVideos && !isLoadingVideos"}],staticClass:"l-none-videos-msg"},[s("p",{directives:[{name:"show",rawName:"v-show",value:!t.hasSearchText,expression:"!hasSearchText"}],staticClass:"c-none-videos-msg"},[t._v("Please input search keyword.")]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.hasSearchText,expression:"hasSearchText"}],staticClass:"c-none-videos-msg"},[t._v("No results for "),s("span",{staticClass:"u-strong"},[t._v(t._s(this.$store.state.searchText))])])])},Q=[],B={computed:{allowShowVideos:function(){return this.$store.state.allowShowVideos},isLoadingVideos:function(){return this.$store.state.isLoadingVideos},hasSearchText:function(){return this.$store.state.searchText.length>0}}},tt=B,et=(s("6b46"),Object(T["a"])(tt,K,Q,!1,null,"518f87a4",null)),st=et.exports,ot={props:{videos:Array},computed:{fetchVideos:function(){return this.$store.state.videos},isLoadingVideos:function(){return this.$store.state.isLoadingVideos}},methods:{pseudoLoaderClass:function(){return{"fade-out":this.$store.state.allowShowVideos}}},components:{"list-item":Z,"search-message":st}},nt=ot,it=(s("3235"),Object(T["a"])(nt,k,M,!1,null,"1e2a07a7",null)),rt=it.exports,at={name:"items",computed:{hitVideos:function(){return this.$store.state.videos}},components:{ListView:rt}},ct=at,ut=Object(T["a"])(ct,W,F,!1,null,null,null),dt=ut.exports;o["a"].use(N["a"]);var lt=new N["a"]({routes:[{path:"/",name:"Items",component:dt}]}),ht={CLEAR_FETCH_VIDEOS:function(t){t.videos=[]},UPDATE_FETCH_VIDEOS:function(t,e){t.videos=e},UPDATE_SEARCH_TEXT:function(t,e){t.searchText=e},UPDATE_LOADED_VIDEO_NUM:function(t){t.loadedVideoNum+=1},CLEAR_LOADED_VIDEO_NUM:function(t){t.loadedVideoNum=0},UPDATE_ALLOW_SHOW_VIDEOS:function(t,e){t.allowShowVideos=e},UPDATE_IS_FOCUS_SEARCH_INPUT:function(t,e){t.isFocusSearchInput=e},UPDATE_IS_LOADING_VIDEOS:function(t,e){t.isLoadingVideos=e},UPDATE_HIT_VIDEO:function(t,e){t.hitVideo=e},UPDATE_HISTORY_SEARCH_WORDS:function(t,e){t.historySearchWords.push(e)},UPDATE_HISTORY_TEXT_TIMER:function(t,e){t.historyTextTimer=e},CLEAR_HISTORY_TEXT_TIMER:function(t){window.clearTimeout(t.historyTextTimer),t.historyTextTimer=null}},ft=ht,pt=(s("6d93"),{fetchYouTubeVideos:function(t){var e=t.dispatch,s=t.state;fetch("".concat(Tt,"&key=").concat(St,"&q=").concat(s.searchText)).then(function(t){t.json().then(function(t){e("resetLoaddedVideoNum").then(function(){e("allowShowVideos",!1).then(function(){t.items.length>0?(e("updateHitVideo",!0),e("updateFetchVideos",t.items)):(e("resetFetchVideos"),e("isLoadingVideos",!1),e("updateHitVideo",!1),e("updateHistorySearchWords",s.searchText))})})})})},resetFetchVideos:function(t){var e=t.commit;e("CLEAR_FETCH_VIDEOS")},updateFetchVideos:function(t,e){var s=t.commit;s("UPDATE_FETCH_VIDEOS",e)},updateSearchText:function(t,e){var s=t.commit;s("UPDATE_SEARCH_TEXT",e)},updateLoadedVideoNum:function(t){var e=t.commit;e("UPDATE_LOADED_VIDEO_NUM")},resetLoaddedVideoNum:function(t){var e=t.commit;e("CLEAR_LOADED_VIDEO_NUM")},allowShowVideos:function(t,e){var s=t.commit;s("UPDATE_ALLOW_SHOW_VIDEOS",e)},isFocusSearchInput:function(t,e){var s=t.commit;s("UPDATE_IS_FOCUS_SEARCH_INPUT",e)},isLoadingVideos:function(t,e){var s=t.commit;s("UPDATE_IS_LOADING_VIDEOS",e)},updateHitVideo:function(t,e){var s=t.commit;s("UPDATE_HIT_VIDEO",e)},updateHistorySearchWords:function(t,e){var s=t.commit;s("UPDATE_HISTORY_SEARCH_WORDS",e)},updateHistoryTextTimer:function(t,e){var s=t.commit;s("UPDATE_HISTORY_TEXT_TIMER",e)},clearHistoryTextTimer:function(t){var e=t.commit;e("CLEAR_HISTORY_TEXT_TIMER")}}),mt=pt,_t={getHistorySearchWords:function(t){return t.historySearchWords}},vt=_t,Tt="https://www.googleapis.com/youtube/v3/search?part=snippet&safeSearch=strict",St="AIzaSyASIm-ZzIu2OJ9wHZXUyPk-_rKVUmOS1fQ";o["a"].use(u["a"]);var bt={videos:[],loadedVideoNum:0,allowShowVideos:!1,searchText:"",isFocusSearchInput:!1,isLoadingVideos:!1,hitVideo:!1,historySearchWords:[],historyTextTimer:null},wt=new u["a"].Store({state:bt,mutations:ft,actions:mt,getters:vt}),Ot=wt;o["a"].config.productionTip=!1,new o["a"]({router:lt,store:Ot,render:function(t){return t(R)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var o=s("e332"),n=s.n(o);n.a},"68d8":function(t,e,s){"use strict";var o=s("1b18"),n=s.n(o);n.a},"6b46":function(t,e,s){"use strict";var o=s("2c8c"),n=s.n(o);n.a},"9a9f":function(t,e,s){},bdb7:function(t,e,s){},e332:function(t,e,s){}});
//# sourceMappingURL=app.3c0fabd9.js.map